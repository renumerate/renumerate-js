"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const s=require("react/jsx-runtime"),r=require("react"),a=require("../renumerate.cjs.js"),c=r.createContext(null);function o({config:t,children:n}){const[e]=r.useState(()=>a.Renumerate.getInstance(t));return r.useEffect(()=>{e.updateConfig(t)},[t,e]),r.useEffect(()=>(e.cleanup(),e.initialize(),()=>{e.cleanup()}),[e]),s.jsx(c.Provider,{value:{instance:e},children:n})}function l({sessionId:t,callbacks:n}){const e=r.useContext(c);if(!e)throw new Error("useRenumerate must be used within a RenumerateProvider");return{open:r.useCallback(()=>{e.instance.showRetentionView(t,n)},[t,n,e.instance])}}function b({sessionId:t,callbacks:n,className:e}){const i=r.useContext(c);if(!i)throw new Error("useRenumerate must be used within a RenumerateProvider");const u=()=>{i.instance.showRetentionView(t,n)};return s.jsx("button",{type:"button",className:e||"renumerate-cancel-btn",onClick:u,children:"Cancel Subscription"})}function m({sessionId:t,callbacks:n,wrapperClassName:e,iframeClassName:i}){const u=r.useContext(c);if(!u)throw new Error("SubscriptionHub must be used within a RenumerateProvider");return r.useEffect(()=>(u.instance.setCallbacks(n),()=>{u.instance.setCallbacks()}),[n,u.instance]),s.jsx("div",{className:e||"renumerate-subscription-hub",children:s.jsx("iframe",{className:i||"renumerate-subscription-hub-iframe",title:"SubscriptionHub",src:u.instance.getSubscriptionHubUrl(t),allow:"publickey-credentials-get","data-renumerate-subhub":"true"})})}exports.CancelButton=b;exports.RenumerateProvider=o;exports.SubscriptionHub=m;exports.useRenumerate=l;
